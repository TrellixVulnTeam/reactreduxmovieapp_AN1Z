{"ast":null,"code":"import _defineProperty from\"D:/PRACTICE/PRACTICE/movie/redux-movie-app/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"D:/PRACTICE/PRACTICE/movie/redux-movie-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _regeneratorRuntime from\"D:/PRACTICE/PRACTICE/movie/redux-movie-app/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"D:/PRACTICE/PRACTICE/movie/redux-movie-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";var _extraReducers;import{createSlice,createAsyncThunk}from\"@reduxjs/toolkit\";import movieApi from'../../common/apis/movieApi';import{APIKey}from'../../common/apis/MovieApiKey';//AsyncAction creator using MiddlewareThunk\n//getting the data from the api \nexport var fetchAsyncMovies=createAsyncThunk('movies/fetchAsyncMovies',/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(term){var response;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return movieApi.get(\"?apiKey=\".concat(APIKey,\"&s=\").concat(term,\"&type=movie\"));case 2:response=_context.sent;return _context.abrupt(\"return\",response.data);case 4:case\"end\":return _context.stop();}}},_callee);}));return function(_x){return _ref.apply(this,arguments);};}());export var fetchAsyncSeries=createAsyncThunk('movies/fetchAsyncSeries',/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(term){var response;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return movieApi.get(\"?apiKey=\".concat(APIKey,\"&s=\").concat(term,\"&type=series\"));case 2:response=_context2.sent;return _context2.abrupt(\"return\",response.data);case 4:case\"end\":return _context2.stop();}}},_callee2);}));return function(_x2){return _ref2.apply(this,arguments);};}());export var fetchAsyncMSDetails=createAsyncThunk('movies/fetchAsyncMSDetails',/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3(id){var response;return _regeneratorRuntime().wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.next=2;return movieApi.get(\"?apiKey=\".concat(APIKey,\"&i=\").concat(id,\"&Plot=full\"));case 2:response=_context3.sent;return _context3.abrupt(\"return\",response.data);case 4:case\"end\":return _context3.stop();}}},_callee3);}));return function(_x3){return _ref3.apply(this,arguments);};}());var initialState={movies:{},series:{},selectedMSDetails:{}// loader:false,\n};var movieSlice=createSlice({name:'movies',initialState:initialState,reducers:{addMovies:function addMovies(state,_ref4){var payload=_ref4.payload;state.movies=payload;},removeSelectedMSDetails:function removeSelectedMSDetails(state){state.selectedMSDetails={};}},extraReducers:(_extraReducers={},_defineProperty(_extraReducers,fetchAsyncMovies.pending,function(){console.log('pending');}),_defineProperty(_extraReducers,fetchAsyncMovies.fulfilled,function(state,_ref5){var payload=_ref5.payload;console.log(\"fetched Successfully\");return _objectSpread(_objectSpread({},state),{},{movies:payload});}),_defineProperty(_extraReducers,fetchAsyncMovies.rejected,function(){console.log('Rejected');}),_defineProperty(_extraReducers,fetchAsyncSeries.fulfilled,function(state,_ref6){var payload=_ref6.payload;console.log(\"fetched Successfully\");return _objectSpread(_objectSpread({},state),{},{series:payload});}),_defineProperty(_extraReducers,fetchAsyncMSDetails.fulfilled,function(state,_ref7){var payload=_ref7.payload;console.log(\"fetched Successfully\");return _objectSpread(_objectSpread({},state),{},{selectedMSDetails:payload});}),_extraReducers)});var addMovies=movieSlice.actions.addMovies;export{addMovies};var removeSelectedMSDetails=movieSlice.actions.removeSelectedMSDetails;//getting values from store\nexport{removeSelectedMSDetails};export var getAllMovies=function getAllMovies(state){return state.moviesr.movies;};export var getAllSeries=function getAllSeries(state){return state.moviesr.series;};export var getAllselectedMSDetails=function getAllselectedMSDetails(state){return state.moviesr.selectedMSDetails;};// (state) => state.NameoftheReducer?OR?sliceName.propertyName\nexport default movieSlice.reducer;","map":{"version":3,"names":["createSlice","createAsyncThunk","movieApi","APIKey","fetchAsyncMovies","term","get","response","data","fetchAsyncSeries","fetchAsyncMSDetails","id","initialState","movies","series","selectedMSDetails","movieSlice","name","reducers","addMovies","state","payload","removeSelectedMSDetails","extraReducers","pending","console","log","fulfilled","rejected","actions","getAllMovies","moviesr","getAllSeries","getAllselectedMSDetails","reducer"],"sources":["D:/PRACTICE/PRACTICE/movie/redux-movie-app/src/features/movies/movieSlice.js"],"sourcesContent":["import { createSlice, createAsyncThunk } from \"@reduxjs/toolkit\";\r\nimport movieApi from '../../common/apis/movieApi'\r\nimport {APIKey} from '../../common/apis/MovieApiKey'\r\n//AsyncAction creator using MiddlewareThunk\r\n//getting the data from the api \r\nexport const fetchAsyncMovies = createAsyncThunk('movies/fetchAsyncMovies',\r\n    async(term) => {\r\n        // const movieText = 'Harry';\r\n          const response = await movieApi\r\n          .get(`?apiKey=${APIKey}&s=${term}&type=movie`)\r\n        //   .catch((err) => {\r\n        //     console.log('err :', err)\r\n        //   });\r\n          return response.data;\r\n    }\r\n)\r\nexport const fetchAsyncSeries = createAsyncThunk('movies/fetchAsyncSeries',\r\n    async(term) => {\r\n        // const seriesText = 'Friends';\r\n          const response = await movieApi\r\n          .get(`?apiKey=${APIKey}&s=${term}&type=series`)\r\n          return response.data;\r\n    }\r\n)\r\nexport const fetchAsyncMSDetails = createAsyncThunk('movies/fetchAsyncMSDetails',\r\n    async(id) => {\r\n          const response = await movieApi\r\n          .get(`?apiKey=${APIKey}&i=${id}&Plot=full`)\r\n          return response.data;\r\n    }\r\n)\r\nconst initialState = {\r\n        movies:{},\r\n        series:{},\r\n        selectedMSDetails:{},\r\n        // loader:false,\r\n}\r\n const movieSlice = createSlice({\r\n    name:'movies',\r\n    initialState,\r\n    reducers:{\r\n        addMovies:(state,{payload})=>{\r\n            state.movies= payload\r\n        },\r\n        removeSelectedMSDetails: (state) => {\r\n            state.selectedMSDetails={}\r\n        }\r\n    },\r\n    extraReducers:{\r\n        //fetchAsyncMovies will have additional action creators\r\n        //which define the lifeCycle of an async request \r\n        [fetchAsyncMovies.pending]:() => {\r\n            console.log('pending')\r\n        },\r\n        [fetchAsyncMovies.fulfilled]:(state,{payload}) => {\r\n            console.log(\"fetched Successfully\")\r\n            return {...state, movies:payload}\r\n        },\r\n        [fetchAsyncMovies.rejected]:() => {\r\n            console.log('Rejected')\r\n            \r\n        },\r\n        [fetchAsyncSeries.fulfilled]:(state,{payload}) => {\r\n            console.log(\"fetched Successfully\")\r\n            return {...state, series:payload}\r\n        },\r\n        [fetchAsyncMSDetails.fulfilled]:(state,{payload}) => {\r\n            console.log(\"fetched Successfully\")\r\n            return {...state, selectedMSDetails:payload}\r\n        },\r\n    }\r\n});\r\n\r\nexport const {addMovies} = movieSlice.actions\r\nexport const {removeSelectedMSDetails} = movieSlice.actions\r\n\r\n//getting values from store\r\nexport const getAllMovies = (state) => state.moviesr.movies\r\nexport const getAllSeries = (state) => state.moviesr.series\r\nexport const getAllselectedMSDetails = (state) => state.moviesr.selectedMSDetails\r\n\r\n// (state) => state.NameoftheReducer?OR?sliceName.propertyName\r\n\r\nexport default movieSlice.reducer"],"mappings":"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"},"metadata":{},"sourceType":"module"}